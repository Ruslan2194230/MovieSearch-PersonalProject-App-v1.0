{"version":3,"file":"static/js/579.af68b2e6.chunk.js","mappings":"oPAEaA,EAAYC,EAAAA,EAAAA,GAAH,sT,8BCATC,EAAYD,EAAAA,EAAAA,GAAH,qLAaTE,EAAcF,EAAAA,EAAAA,IAAH,uKAQXG,EAAYH,EAAAA,EAAAA,GAAH,mE,oBCtBTI,EAAeJ,EAAAA,EAAAA,IAAH,+CAGZK,EAAiBL,EAAAA,EAAAA,OAAH,kUAqBdM,EAAeN,EAAAA,EAAAA,KAAH,8G,SCwCzB,EArDiB,SAAC,GAAyB,IAAvBO,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjBC,EAAoCF,EAApCE,GAAIC,EAAgCH,EAAhCG,eAAgBC,EAAgBJ,EAAhBI,YAC5B,GACEC,EAAAA,EAAAA,KADMC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,wBAAyBC,EAA7C,EAA6CA,6BAE7C,GAA0BC,EAAAA,EAAAA,UAASH,EAAWJ,IAA9C,eAAOQ,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WACRD,EAASL,EAAWJ,GACrB,GAAE,CAACA,EAAII,IAaR,OACE,UAACZ,EAAD,YACE,SAAC,KAAD,CAAMmB,MAAO,CAAEC,KAAMb,GAAYc,GAAE,kBAAab,GAAhD,UACE,UAACL,EAAD,YACE,SAACF,EAAD,CACEqB,IACEZ,EACIa,EAAAA,EAAkBb,EAClBc,EAAAA,EAAc,SAAWf,EAE/BgB,IAAKhB,KAEP,SAACL,EAAD,CACEsB,QAxBkB,SAAAC,GAC1BA,EAAEC,kBACFD,EAAEE,iBACEb,EACFF,EAA6BN,GAE7BK,EAAwBL,GAE1BS,GAAUD,EACX,EAgBSc,UAAWd,EAAQ,WAAa,GAFlC,UAIE,SAACX,EAAD,WACE,gBAAK0B,QAAQ,YAAb,UACE,iBACEC,EAAE,+LACFF,UAAU,sBAOtB,SAAC5B,EAAD,UAAYO,MA1BED,EA6BnB,EC1CD,EAjBkB,SAAC,GAAkC,IAAhCyB,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,iBACrB3B,GAAW4B,EAAAA,EAAAA,MAEjB,OACE,SAACrC,EAAD,UACGmC,EAAOG,KAAI,SAAA9B,GAAK,OACf,SAAC,EAAD,CAEEA,MAAOA,EACPC,SAAUA,EACV2B,iBAAkBA,GAHb5B,EAAME,GAFE,KAUtB,C,kLCjBY6B,EAActC,EAAAA,EAAAA,MAAH,4TAoBXuC,EAAevC,EAAAA,EAAAA,OAAH,gZ,SCWzB,EA7Ba,SAAC,GAAyB,IAAvBwC,EAAsB,EAAtBA,gBACd,GAA0BxB,EAAAA,EAAAA,UAAS,IAAnC,eAAOyB,EAAP,KAAcC,EAAd,MAC0BC,EAAAA,EAAAA,KAAlBC,cAWR,OACE,kBAAMC,SAXa,SAAAjB,GACnBA,EAAEE,iBAEFU,EAAgB,CAAEC,MAAAA,GACnB,EAOC,WACE,SAACH,EAAD,CACEQ,KAAK,OACLC,YAAY,aACZC,WAAS,EACTC,MAAOR,EACPS,SAXqB,SAAC,GAA2B,IAAfD,EAAc,EAAxBE,OAAUF,MACtCP,EAASO,EACV,KAWG,SAACV,EAAD,CAAcO,KAAK,SAASM,UAAWX,EAAvC,sBAKL,E,UC7BYY,EAASrD,EAAAA,EAAAA,OAAH,s0BA2CNsD,EAAOtD,EAAAA,EAAAA,IAAH,iQACC,SAAAuD,GAAK,MAAuB,SAAlBA,EAAMC,QAAqB,IAAM,MAAtC,IACN,SAAAD,GAAK,MAAuB,SAAlBA,EAAMC,QAAqB,OAAS,GAAzC,IAMF,SAAAD,GAAK,MAAuB,SAAlBA,EAAMC,QAAqB,IAAM,KAAtC,IACN,SAAAD,GAAK,MAAuB,SAAlBA,EAAMC,QAAqB,MAAQ,GAAxC,IClDlBC,EAAU,CACdC,W,iyBACAC,Y,0xBAGWC,EAAY,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,MAAOL,EAAuC,EAAvCA,QAAS7B,EAA8B,EAA9BA,QAASyB,EAAqB,EAArBA,SAAUU,EAAW,EAAXA,KAC7D,OACE,UAACT,EAAD,CAAQ1B,QAASA,EAASyB,SAAUA,EAApC,UACGI,GAAWK,GACZ,SAACP,EAAD,CAAM/B,IAAKkC,EAAQK,GAAOpC,IAAKmC,EAAOL,QAASA,KAC7CA,GAAWK,IAGlB,ECfYE,EAAiB,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,iBACrC,OACE,iBACEC,MAAO,CACLC,QAAS,OACTC,eAAgB,cAHpB,WAME,SAACR,EAAD,CACER,SAAmB,IAATY,EACVH,MAAM,YACNC,KAAK,aACLnC,QAAS,kBAAMsC,EAAiBD,EAAO,EAA9B,KAEX,SAACJ,EAAD,CAEEC,MAAM,YACNC,KAAK,cACLN,QAAQ,OACR7B,QAAS,kBAAMsC,EAAiBD,EAAO,EAA9B,MAIhB,EC6CD,EA5De,WACb,OAA4BhD,EAAAA,EAAAA,UAAS,IAArC,eAAOkB,EAAP,KAAemC,EAAf,KACA,GAAwBrD,EAAAA,EAAAA,UAAS,GAAjC,eAAOgD,EAAP,KAAaM,EAAb,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBhC,EAArB,KACA,GAA4CG,EAAAA,EAAAA,KAApC8B,EAAR,EAAQA,iBAAkB7B,EAA1B,EAA0BA,cAEpBqB,GAAmBS,EAAAA,EAAAA,cACvB,SAAAV,GACEM,EAAQN,EACT,GACD,CAACM,IAiCH,OA9BAnD,EAAAA,EAAAA,YAAU,WACR,IAAMwD,EAAeH,EAAaI,IAAI,SACtC,GAAKD,EAAL,CAIA,IAAME,EAAiB,mCAAG,oHAEcC,EAAAA,EAAAA,IAAgBH,EAAcX,GAF5C,UAEhBe,EAFgB,OAIpBC,EAIED,EAJFC,QACMC,EAGJF,EAHFf,KACAkB,EAEEH,EAFFG,YAGoB,IADlBH,EADFI,cAPoB,uBAUpBvC,EAAc,kRAVM,0BAaVsC,EAEZZ,EAAQW,GACRZ,EAAUW,GAhBY,kDAkBtBP,EAAiB,6CAlBK,0DAAH,qDAqBvBI,GAvBC,CAwBF,GAAE,CAACL,EAAcR,KAGhB,iCACE,SAAC,EAAD,CAAMxB,gBAAiBA,IAEtBN,EAAOkD,OAAS,IAAK,SAACC,EAAA,EAAD,CAAWnD,OAAQA,IACxCA,EAAOkD,OAAS,IACf,SAACrB,EAAD,CACE7B,OAAQA,EACR8B,KAAMA,EACNC,iBAAkBA,MAK3B,C,8ECpEM,IAAMzC,EAAkB,mCAClBC,EAAc,qC","sources":["components/FilmsList/FilmsList.module.jsx","components/FilmItem/FilmItem.module.jsx","components/Buttons/AddToFavoriteButton/AddToFavoriteButton.module.jsx","components/FilmItem/FilmItem.jsx","components/FilmsList/FilmsList.jsx","components/Form/Form.module.jsx","components/Form/Form.jsx","components/Buttons/PageNavButtons/NavButton.module.jsx","components/Buttons/PageNavButtons/NavButton.jsx","components/Buttons/PageNavButtons/PageNavButtons.jsx","pages/Movies/Movies.jsx","utils/constants.js"],"sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const ListFilms = styled.ul`\r\n  /* margin-top: 12px; */\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 16px;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ItemFilms = styled.li`\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  max-width: 200px;\r\n\r\n  height: 350px;\r\n\r\n  padding: 12px;\r\n\r\n  border-radius: 25px;\r\n  border: green solid;\r\n`;\r\nexport const FilmListimg = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  border-radius: 12px;\r\n`;\r\nexport const FilmTitle = styled.h3`\r\n  font-size: 22px;\r\n  margin-right: 25px;\r\n`;\r\n","import styled from '@emotion/styled';\r\nexport const ImgContainer = styled.div`\r\n  position: relative;\r\n`;\r\nexport const FavoriteButton = styled.button`\r\n  position: absolute;\r\n  bottom: -30px;\r\n  right: 0;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  margin-top: 10px;\r\n\r\n  &.favorite svg path {\r\n    fill: #ffc700;\r\n    stroke: #ffc700;\r\n  }\r\n\r\n  &:not(.favorite) svg path {\r\n    fill: green;\r\n    stroke: green;\r\n  }\r\n`;\r\n\r\nexport const FavoriteIcon = styled.span`\r\n  width: 24px;\r\n  height: 24px;\r\n\r\n  svg {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ItemFilms, FilmListimg, FilmTitle } from './FilmItem.module';\r\nimport { BASE_POSTER_URL, PLACEHOLDER } from 'utils/constants';\r\n\r\nimport { useFavorites } from '../../Contexts/FavoriteContext';\r\nimport {\r\n  FavoriteButton,\r\n  FavoriteIcon,\r\n  ImgContainer,\r\n} from '../Buttons/AddToFavoriteButton/AddToFavoriteButton.module';\r\n\r\nconst FilmItem = ({ movie, location }) => {\r\n  const { id, original_title, poster_path } = movie;\r\n  const { isFavorite, addToFavoritesAndUpdate, removeFromFavoritesAndUpdate } =\r\n    useFavorites();\r\n  const [isFav, setIsFav] = useState(isFavorite(id));\r\n\r\n  useEffect(() => {\r\n    setIsFav(isFavorite(id));\r\n  }, [id, isFavorite]);\r\n\r\n  const handleFavoriteClick = e => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    if (isFav) {\r\n      removeFromFavoritesAndUpdate(id);\r\n    } else {\r\n      addToFavoritesAndUpdate(id);\r\n    }\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  return (\r\n    <ItemFilms key={id}>\r\n      <Link state={{ from: location }} to={`/movies/${id}`}>\r\n        <ImgContainer>\r\n          <FilmListimg\r\n            src={\r\n              poster_path\r\n                ? BASE_POSTER_URL + poster_path\r\n                : PLACEHOLDER + '?text=' + original_title\r\n            }\r\n            alt={original_title}\r\n          />\r\n          <FavoriteButton\r\n            onClick={handleFavoriteClick}\r\n            className={isFav ? 'favorite' : ''}\r\n          >\r\n            <FavoriteIcon>\r\n              <svg viewBox=\"0 0 32 32\">\r\n                <path\r\n                  d=\"M26,2H6A1,1,0,0,0,5,3V28a1,1,0,0,0,1.51.86L16,23.17l9.49,5.69A1,1,0,0,0,26,29a1,1,0,0,0,.49-.13A1,1,0,0,0,27,28V3A1,1,0,0,0,26,2ZM25,4V8H7V4ZM16.51,21.14a1,1,0,0,0-1,0L7,26.23V10H25V26.23Z\"\r\n                  className=\"cls-1\"\r\n                />\r\n              </svg>\r\n            </FavoriteIcon>\r\n          </FavoriteButton>\r\n        </ImgContainer>\r\n      </Link>\r\n      <FilmTitle>{original_title}</FilmTitle>\r\n    </ItemFilms>\r\n  );\r\n};\r\n\r\nexport default FilmItem;\r\n","import { useLocation } from 'react-router-dom';\r\nimport { ListFilms } from './FilmsList.module';\r\n\r\nimport FilmItem from '../FilmItem/FilmItem';\r\nconst FilmsList = ({ movies, onRemoveFavorite }) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <ListFilms>\r\n      {movies.map(movie => (\r\n        <FilmItem\r\n          key={movie.id}\r\n          movie={movie}\r\n          location={location}\r\n          onRemoveFavorite={onRemoveFavorite}\r\n        />\r\n      ))}\r\n    </ListFilms>\r\n  );\r\n};\r\n\r\nexport default FilmsList;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const InputSearch = styled.input`\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 27px;\r\n\r\n  padding: 15px 16px;\r\n\r\n  color: rgba(255, 255, 255, 0.2);\r\n\r\n  background: #2b2b2b;\r\n  /* box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); */\r\n  border-radius: 10px;\r\n\r\n  :active,\r\n  :focus,\r\n  :hover {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const ButtonSearch = styled.button`\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 27px;\r\n\r\n  margin-left: 12px;\r\n  padding: 15px 16px;\r\n\r\n  color: rgba(255, 255, 255, 0.2);\r\n\r\n  background: #2b2b2b;\r\n  border-radius: 10px;\r\n  :not(:disabled),\r\n  :not(:disabled):active,\r\n  :focus,\r\n  :not(:disabled):hover {\r\n    color: white;\r\n    outline: 2px solid #ffc700;\r\n    transition: outline 0.3s ease;\r\n  }\r\n`;\r\n","import { useState } from 'react';\r\nimport { InputSearch, ButtonSearch } from './Form.module';\r\nimport { useError } from 'Contexts/ErrorContext';\r\n\r\nconst Form = ({ setSearchParams }) => {\r\n  const [query, setQuery] = useState('');\r\n  const { handleWarning } = useError();\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    setSearchParams({ query });\r\n  };\r\n\r\n  const handleSearchParams = ({ target: { value } }) => {\r\n    setQuery(value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <InputSearch\r\n        type=\"text\"\r\n        placeholder=\"Name movie\"\r\n        autoFocus\r\n        value={query}\r\n        onChange={handleSearchParams}\r\n      />\r\n      <ButtonSearch type=\"submit\" disabled={!query}>\r\n        Search\r\n      </ButtonSearch>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 6px 15px;\r\n  border: 1px solid #2b86c5;\r\n  border-radius: 5px;\r\n  background-color: #ff3cac;\r\n  background-image: linear-gradient(\r\n    225deg,\r\n    #ffc700 0%,\r\n    #ff7f50 50%,\r\n    #ff3cac 100%\r\n  );\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  margin: 15px 20px 15px 0;\r\n  color: #fff;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  letter-spacing: 1px;\r\n  opacity: 0.8;\r\n  min-width: 120px;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    opacity: 1;\r\n  }\r\n\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.4;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 0.7rem;\r\n    padding: 5px;\r\n    margin: 10px 10px 10px 0;\r\n    min-width: 100px;\r\n  }\r\n`;\r\nexport const Icon = styled.img`\r\n  margin-right: ${props => (props.reverse === 'true' ? '0' : '10px')};\r\n  margin-left: ${props => (props.reverse === 'true' ? '10px' : '0')};\r\n  width: 25px;\r\n  height: 25px;\r\n  filter: grayscale(1) invert(1);\r\n\r\n  @media (max-width: 768px) {\r\n    margin-right: ${props => (props.reverse === 'true' ? '0' : '7px')};\r\n    margin-left: ${props => (props.reverse === 'true' ? '7px' : '0')};\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n","import { Icon, Button } from './NavButton.module';\r\nimport left_arrow from '../../../images/left_arrow.png';\r\nimport right_arrow from '../../../images/right_arrow.png';\r\n\r\nconst iconObj = {\r\n  left_arrow,\r\n  right_arrow,\r\n};\r\n\r\nexport const NavButton = ({ label, reverse, onClick, disabled, icon }) => {\r\n  return (\r\n    <Button onClick={onClick} disabled={disabled}>\r\n      {reverse && label}\r\n      <Icon src={iconObj[icon]} alt={label} reverse={reverse} />\r\n      {!reverse && label}\r\n    </Button>\r\n  );\r\n};\r\n","import { NavButton } from './NavButton';\r\n\r\nexport const PageNavButtons = ({ page, handlePageChange }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n      }}\r\n    >\r\n      <NavButton\r\n        disabled={page === 1}\r\n        label=\"Prev page\"\r\n        icon=\"left_arrow\"\r\n        onClick={() => handlePageChange(page - 1)}\r\n      ></NavButton>\r\n      <NavButton\r\n        // disabled={totalPages === true}\r\n        label=\"Next page\"\r\n        icon=\"right_arrow\"\r\n        reverse=\"true\"\r\n        onClick={() => handlePageChange(page + 1)}\r\n      ></NavButton>\r\n    </div>\r\n  );\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { getMovieByQuery } from 'services/getMovies';\r\n\r\nimport { useError } from '../../Contexts/ErrorContext';\r\n\r\nimport Form from 'components/Form/Form';\r\nimport FilmsList from 'components/FilmsList/FilmsList';\r\nimport { PageNavButtons } from 'components/Buttons/PageNavButtons/PageNavButtons';\r\n\r\nconst Movies = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const { handleMinorError, handleWarning } = useError();\r\n  let totalPage;\r\n  const handlePageChange = useCallback(\r\n    page => {\r\n      setPage(page);\r\n    },\r\n    [setPage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const currentQuery = searchParams.get('query');\r\n    if (!currentQuery) {\r\n      return;\r\n    }\r\n\r\n    const fetchMovieByQuery = async () => {\r\n      try {\r\n        const moviesByQueryResponse = await getMovieByQuery(currentQuery, page);\r\n        const {\r\n          results,\r\n          page: responsePage,\r\n          total_pages,\r\n          total_results,\r\n        } = moviesByQueryResponse;\r\n        if (total_results === 0) {\r\n          handleWarning('Фильм не найден,пожалуйста введите другое название');\r\n          return;\r\n        }\r\n        totalPage = total_pages;\r\n\r\n        setPage(responsePage);\r\n        setMovies(results);\r\n      } catch (e) {\r\n        handleMinorError('Failed to fetch movies. Please try again.');\r\n      }\r\n    };\r\n    fetchMovieByQuery();\r\n  }, [searchParams, page]);\r\n\r\n  return (\r\n    <>\r\n      <Form setSearchParams={setSearchParams} />\r\n\r\n      {movies.length > 0 && <FilmsList movies={movies}></FilmsList>}\r\n      {movies.length > 0 && (\r\n        <PageNavButtons\r\n          movies={movies}\r\n          page={page}\r\n          handlePageChange={handlePageChange}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","export const BASE_POSTER_URL = 'https://image.tmdb.org/t/p/w500/';\r\nexport const PLACEHOLDER = 'https://via.placeholder.com/182x273';\r\n"],"names":["ListFilms","styled","ItemFilms","FilmListimg","FilmTitle","ImgContainer","FavoriteButton","FavoriteIcon","movie","location","id","original_title","poster_path","useFavorites","isFavorite","addToFavoritesAndUpdate","removeFromFavoritesAndUpdate","useState","isFav","setIsFav","useEffect","state","from","to","src","BASE_POSTER_URL","PLACEHOLDER","alt","onClick","e","stopPropagation","preventDefault","className","viewBox","d","movies","onRemoveFavorite","useLocation","map","InputSearch","ButtonSearch","setSearchParams","query","setQuery","useError","handleWarning","onSubmit","type","placeholder","autoFocus","value","onChange","target","disabled","Button","Icon","props","reverse","iconObj","left_arrow","right_arrow","NavButton","label","icon","PageNavButtons","page","handlePageChange","style","display","justifyContent","setMovies","setPage","useSearchParams","searchParams","handleMinorError","useCallback","currentQuery","get","fetchMovieByQuery","getMovieByQuery","moviesByQueryResponse","results","responsePage","total_pages","total_results","length","FilmsList"],"sourceRoot":""}